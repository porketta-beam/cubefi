# =============================================================================
# RAG Lab Server 환경 변수 설정 샘플
# =============================================================================
# 이 파일을 복사하여 .env 파일을 생성하고 실제 값으로 설정하세요.
# cp .env.sample .env

# =============================================================================
# 🔑 API 키 설정 (필수)
# =============================================================================

# OpenAI API 키 (필수)
# https://platform.openai.com/api-keys 에서 발급
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# LangSmith API 키 (선택적 - AI 호출 추적용)
# https://smith.langchain.com 에서 발급
LANGSMITH_API_KEY=lsv2_pt_your-langsmith-api-key-here

# 기타 AI 서비스 API 키 (선택적)
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-key-here
PERPLEXITY_API_KEY=pplx-your-perplexity-key-here

# =============================================================================
# 🚀 서버 설정
# =============================================================================

# FastAPI 서버 포트 (기본값: 8000)
SERVER_PORT=8000

# Streamlit 웹앱 포트 (기본값: 8501)
WEB_PORT=8501

# 디버그 모드 (개발: true, 프로덕션: false)
DEBUG=false

# 호스트 바인딩 (모든 인터페이스: 0.0.0.0, 로컬만: 127.0.0.1)
HOST=127.0.0.1

# uvicorn 리로드 기능 (개발: true, 프로덕션: false)
UVICORN_RELOAD=false

# =============================================================================
# 📊 LangSmith 추적 설정
# =============================================================================

# LangSmith 프로젝트 이름
LANGSMITH_PROJECT=rag_lab_server

# LangSmith 추적 활성화 (true/false)
LANGSMITH_TRACING=true

# LangSmith 엔드포인트 (기본값 사용)
LANGSMITH_ENDPOINT=https://api.smith.langchain.com

# =============================================================================
# 🤖 RAG 시스템 설정
# =============================================================================

# 사용할 OpenAI 모델
# 옵션: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo
MODEL_NAME=gpt-4o-mini

# LLM 응답 온도 (0.0-2.0, 낮을수록 일관성, 높을수록 창의성)
TEMPERATURE=0.2

# 문서 청킹 크기 (토큰 단위)
CHUNK_SIZE=800

# 청크 겹침 크기 (토큰 단위)
CHUNK_OVERLAP=200

# 검색할 최대 문서 수
MAX_DOCS_RETRIEVAL=5

# 임베딩 모델 (기본값: text-embedding-3-small)
EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# 💾 데이터 저장 경로
# =============================================================================

# ChromaDB 데이터 저장 디렉토리 (상대 경로 또는 절대 경로)
CHROMA_PERSIST_DIRECTORY=./chroma_db

# 원본 데이터 저장 디렉토리
RAW_DATA_DIRECTORY=./raw_data

# 임시 파일 저장 디렉토리
TEMP_DIRECTORY=./temp

# 업로드 파일 최대 크기 (MB)
MAX_UPLOAD_SIZE=50

# =============================================================================
# 📝 로깅 설정
# =============================================================================

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 로그 파일 경로
LOG_FILE=./logs/server.log

# 로그 포맷 (simple, detailed, json)
LOG_FORMAT=detailed

# 로그 파일 최대 크기 (MB)
LOG_MAX_SIZE=10

# 보관할 로그 파일 수
LOG_BACKUP_COUNT=5

# 콘솔 로그 출력 여부 (true/false)
LOG_CONSOLE=true

# =============================================================================
# 🔧 성능 및 최적화
# =============================================================================

# 워커 프로세스 수 (기본값: CPU 코어 수)
WORKERS=1

# 최대 동시 요청 수
MAX_CONCURRENT_REQUESTS=100

# 요청 타임아웃 (초)
REQUEST_TIMEOUT=300

# ChromaDB 연결 풀 크기
CHROMA_POOL_SIZE=10

# 캐시 TTL (초)
CACHE_TTL=3600

# =============================================================================
# 🌐 CORS 및 보안 설정
# =============================================================================

# 허용할 Origin (개발: *, 프로덕션: 특정 도메인)
CORS_ORIGINS=*

# 허용할 HTTP 메서드
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# 허용할 헤더
CORS_HEADERS=*

# 쿠키 허용 여부
CORS_CREDENTIALS=false

# API 키 기반 인증 (선택적)
API_KEY_HEADER=X-API-Key
API_KEY_VALUE=your-secret-api-key

# =============================================================================
# 📊 모니터링 및 텔레메트리
# =============================================================================

# OpenTelemetry 활성화 (true/false)
OTEL_ENABLED=false

# OpenTelemetry SDK 비활성화 (true/false)
OTEL_SDK_DISABLED=false

# Jaeger 트레이싱 엔드포인트
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# 메트릭 수집 간격 (초)
METRICS_INTERVAL=60

# 헬스 체크 간격 (초)
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# 🧪 개발 및 테스트 설정
# =============================================================================

# 테스트 모드 (true/false)
TESTING=false

# 테스트 데이터베이스 사용 (true/false)
USE_TEST_DB=false

# 더미 데이터 생성 (개발용)
GENERATE_DUMMY_DATA=false

# API 문서 활성화 (true/false)
DOCS_ENABLED=true

# =============================================================================
# 🔧 환경별 설정 예시
# =============================================================================

# 개발 환경 예시:
# DEBUG=true
# LOG_LEVEL=DEBUG
# UVICORN_RELOAD=true
# CORS_ORIGINS=*
# DOCS_ENABLED=true

# 스테이징 환경 예시:
# DEBUG=false
# LOG_LEVEL=INFO
# UVICORN_RELOAD=false
# CORS_ORIGINS=https://staging.example.com
# LANGSMITH_PROJECT=rag_lab_staging

# 프로덕션 환경 예시:
# DEBUG=false
# LOG_LEVEL=WARNING
# UVICORN_RELOAD=false
# CORS_ORIGINS=https://example.com,https://app.example.com
# LANGSMITH_TRACING=false
# DOCS_ENABLED=false

# =============================================================================
# 📚 추가 설정 옵션
# =============================================================================

# 데이터베이스 연결 문자열 (확장 시 사용)
# DATABASE_URL=postgresql://user:password@localhost/rag_lab

# Redis 연결 문자열 (캐싱 시 사용)
# REDIS_URL=redis://localhost:6379

# S3 버킷 설정 (클라우드 스토리지 사용 시)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET_NAME=rag-lab-documents

# 이메일 알림 설정 (에러 알림 시 사용)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# ALERT_EMAIL=admin@example.com

# =============================================================================
# 💡 사용법 가이드
# =============================================================================
#
# 1. 최소 설정 (필수):
#    - OPENAI_API_KEY만 설정하면 기본 동작
#
# 2. 개발 환경:
#    - DEBUG=true
#    - LOG_LEVEL=DEBUG  
#    - UVICORN_RELOAD=true
#
# 3. 프로덕션 환경:
#    - DEBUG=false
#    - UVICORN_RELOAD=false
#    - CORS_ORIGINS를 특정 도메인으로 제한
#    - LOG_LEVEL=WARNING
#
# 4. 모니터링 활성화:
#    - LANGSMITH_API_KEY 설정
#    - LANGSMITH_TRACING=true
#
# 5. 환경별 .env 파일:
#    - .env.development
#    - .env.staging  
#    - .env.production
#
# =============================================================================